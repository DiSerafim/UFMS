<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>M√≥dulo 3 ‚Äì SGBDs Relacionais.</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>M√≥dulo 3 ‚Äì SGBDs Relacionais.</h1>
        <h2>üí° Unidade 2 - Processamento de transa√ß√µes e controle de concorr√™ncia.</h2>
        <p>Professor Especialista: Vanessa Borges.</p>
    </header>
    <main>
        <section id="disciplinas">
            <h2>Disciplinas</h2>
            <p></p>
            <ul>
                <li>
                    <p>BANCO DE DADOS-T01-2024-1
                        <span class="status concluida">Conclu√≠do</span>
                    </p>
                </li>
            </ul>
        </section>
        <section id="materiais">
            <h2>Materiais</h2>
            <a href="https://www.youtube.com/watch?v=zhL3pp4NdDY&ab_channel=UNIVESP" class="btn waves-effect waves-light" target="_blank" type="button" name="action">
                V√≠deo 2 - 
                Bancos de Dados - Aula 25 - Controle de concorr√™ncia ‚Äì Parte I. 
                <i class="material-icons right"> send</i>
            </a>
            <p>Professor ministrante: Sarajane Marques Peres.</p>
        </section>
        <section>
            <h2>Conte√∫do</h2>
            <h3>Controle de concorr√™ncia.</h3>
        </section>

        <section>
            <h2>Controle de concorr√™ncia.</h2>
            <p>O ISOLAMENTO √© uma das propriedades fundamentais de uma transa√ß√£o.</p>
            <ul>
                <li>Quando diversas transa√ß√µes s√£o executadas de <b>modo concorrente</b>, h√° o risco de ocorrer viola√ß√£o dessa propriedade.</li>
                <li>√â necess√°rio que o sistema controle a forma como as opera√ß√µes das transa√ß√µes s√£o intercaladas durante a execu√ß√£o concorrente. Esse controle √© realizado pelo <b>m√≥dulo de controle de concorr√™ncia</b>.</li>
                <li>Os esquemas de controle de concorr√™ncia tem por base a <b>propriedade de serializa√ß√£o</b>. Ou seja, os esquemas devem garantir que a ordena√ß√£o da execu√ß√£o das opera√ß√µes das diferentes transa√ß√µes concorrentes seja serializ√°vel.</li>
            </ul>
            <img src="img/controlador-de-concorrencia.png" alt="controlador-de-concorrencia.png">
        </section>

        <section>
            <h2>Protocolo de controle de concorr√™ncia baseado em bloqueio.</h2>
            <ul>
                <li>Uma das formas de garantir que apenas esquemas de execu√ß√£o concorrente serializ√°veis sejam produzidos √© obrigar que o acesso aos itens de dados seja feito de maneira mutuamente exclusiva:</li>
                <ul>
                    <li>enquanto uma transa√ß√£o acessa um item de dados, nenhuma outra transa√ß√£o pode modific√°-lo.</li>
                </ul>
                <li>Para implementar esse controle, pode-se usar o <b>m√©todo do bloqueio (lock)</b>:</li>
                <ul>
                    <li>a forma como os bloqueios s√£o usados influencia no resultado referente √† gera√ß√£o de um esquema de execu√ß√£o concorrente serializ√°vel ou n√£o.</li>
                </ul>
            </ul>
        </section>

        <section>
            <h2>Tipos de bloqueios (ou travas).</h2>
            <ul>
                <li><b>Bloqueio compartilhado</b>: se uma transa√ß√£o Ti obteve um bloqueio compartilhado (S) sobre um item de dado Q, ent√£o Ti <b>pode ler</b> Q mas n√£o <b>pode escrever</b> em Q.</li>
                <li><b>Bloqueio exclusivo</b>: Se uma transa√ß√£o Ti obteve um bloqueio exclusivo (X) sobre o item de dados Q, ent√£o Ti <b>pode tanto ler</b> Q <b>quanto escrever</b> em Q.</li>
            </ul>
            <p>A transa√ß√£o solicita (procedimento implementado pelo SGBD) o bloqueio apropriado antes de executar qualquer opera√ß√£o sobre Q. O controle de concorr√™ncia decide se concede ou n√£o o bloqueio solicitado.</p>
            <b>Compatibilidade entre bloqueios:</b>
            <p></p>
            <img src="img/controlador-de-concorrencia1.png" alt="controlador-de-concorrencia1.png">
            <p></p>
            <b>Exemplo de transa√ß√µes com os bloqueios concedidos:</b>
            <p></p>
            <img src="img/controlador-de-concorrencia2.png" alt="controlador-de-concorrencia2.png">
            <p></p>
            <b>Exemplo de transa√ß√µes concorrentes:</b>
            <p></p>
            <img src="img/controlador-de-concorrencia3.png" alt="controlador-de-concorrencia3.png">
            <p>O esquema de execu√ß√£o concorrente resultante √© serializ√°vel????</p>
            <b>Exemplo de transa√ß√µes com todos os desbloqueios no final .....</b>
            <p></p>
            <img src="img/controlador-de-concorrencia4.png" alt="controlador-de-concorrencia4.png">
            <p></p>
            <b>Exemplo de transa√ß√µes concorrentes:</b>
            <p></p>
            <img src="img/controlador-de-concorrencia5.png" alt="controlador-de-concorrencia5.png">
            <p></p>
            <ul>
                <li>√â necess√°rio estabelecer um protocolo de bloqueio de forma que cada transa√ß√£o (ou a concess√£o do bloqueio) siga um determinado (e o mesmo) conjunto de regras.</li>
                <ul>
                    <li>o protocolo estabelece quando uma transa√ß√£o pode ou n√£o receber o direito de bloquear ou desbloquear cada item de dados.</li>
                </ul>
                <li>As regras dizem respeito a:</li>
                <ul>
                    <li><b>quando</b> uma transa√ß√£o pode <b>solicitar</b> um bloqueio</li>
                    <li><b>quando</b> uma transa√ß√£o pode <b>liberar</b> um bloqueio</li>
                </ul>
            </ul>
        </section>

        <section>
            <h2>Protocolo de bloqueio em duas fases (Two-phase locking protocol).</h2>
            <ul>
                <li>FASE DE EXPANS√ÉO: uma transa√ß√£o pode obter bloqueios, mas n√£o pode liberar nenhum.</li>
                <li>FASE DE ENCOLHIMENTO: uma transa√ß√£o pode liberar bloqueios, mas n√£o consegue obter nenhum bloqueio novo.</li>
                <li>Esse protocolo garante <b>apenas</b> a gera√ß√£o de esquemas de execu√ß√£o concorrente <b>serializ√°veis</b>. Ele n√£o garante aus√™ncia de deadlocks.</li>
            </ul>
            <p>Exemplo:</p>
            <img src="img/controlador-de-concorrencia6.png" alt="controlador-de-concorrencia6.png">
            <p></p>
            <img src="img/controlador-de-concorrencia7.png" alt="controlador-de-concorrencia7.png">
            <p>Qual √© o esquema de execu√ß√£o serial equivalente a esse concorrente?</p>
        </section>

        <section>
            <h2>Outros esquemas de controle de concorr√™ncia:</h2>
            <ul>
                <li>Protocolo de bloqueio em duas fases SEVERO.</li>
                <li>Protocolo de bloqueio em duas fases RIGOROSO.</li>
                <li>Protocolo de bloqueio com upgrade e downgrade.</li>
                <li>Protocolo de bloqueio de granularidade m√∫ltipla.</li>
                <li>Protocolo de bloqueio baseado em timestamp.</li>
                <li>Esquema de multivers√£o.</li>
            </ul>
        </section>

        <section>
            <h2>Observa√ß√µes.</h2>
            <p>Os SGBDs que possuem o controlador de concorr√™ncia baseado em bloqueios possuem um mecanismo autom√°tico de concess√£o de bloqueios para as transa√ß√µes.</p>
            <p>Os SGBDs permitem que bloqueios expl√≠citos sejam colocados na codifica√ß√£o da transa√ß√£o (pelo programador). Esses bloqueios, geralmente, sobrep√µem o mecanismo autom√°tico.</p>
        </section>

        <section>
            <h2>Controle de concorr√™ncia - Parte l.</h2>
            <p>Estes slides est√£o baseados na bibliografia:</p>
            <ul><li>Elmasri, Ramez; Navathe, Shamkant B. Sistemas de Banco de Dados. Pearson, 6a edi√ß√£o, 808p., 2011.</li></ul>
        </section>
    </main>
    <footer>
        <p>Diego Serafim de Sousa - 18 de maio de 2024</p>
    </footer>
</body>
</html>
